<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-2.1.4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>

    <style src="c:\code\NewsApi\news.css"></style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <title>Latest Weather Report</title>

    <script>
        var x = document.getElementById("demo");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
          //  x.innerHTML = "Latitude: " + position.coords.latitude +
            //    "<br>Longitude: " + position.coords.longitude;
           //alert( "Latitude: " + position.coords.latitude);
           // $("#demo").html("Latitude: " + position.coords.latitude +"<br>Longitude: " + position.coords.longitude );
            getdata(position.coords.latitude,position.coords.longitude);
        }


        var output_data;
        var query;

        function searchdata() {
            if (query !== "") {
                // $("#newresult").html(output_data);
                alert($("#searchquery").val());
                var query = $("#searchquery").val();
                $("#searchquery").val(" ");
            }
            else {
                alert("plz enter to search ");
            }
            getdata(query);
        }
        //<![CDATA[

        function getdata(latt,logg) {


            $.ajax({
                url: "https://api.openweathermap.org/data/2.5/weather?lat="+latt+ "&lon="+logg+"&appid=02db694722f4407bb5dbc01424bdb5d4",
                type: "GET",
                dataType: "json",
                success: function (weather_report) {
                    console.log(weather_report);
                    alert(weather_report.name);
                    $("#lang").html(latt);
                    $("#lat").html(logg);
                    $("#placename").html(weather_report.name);
                    $("#temperature").html(weather_report.weather[0].description);
                    $("#wind_data").html(weather_report.wind.speed);
                }
            });
        }

        //]]>
    </script>

    <style>

        #searchrow{
            background-color: antiquewhite;
        }
        #main{
            color: aliceblue;
        }
        body{
            background-color: darkred;
        }
        #heading{
            background-color: blanchedalmond;
        }
        #morning{

        }

    </style>

</head>


<body>

<div class="row" id="heading">
    <div class="col-sm-4">
 <h1> Welcome </h1>

    </div>
    <div class="col-sm-8">
<h2> Get the current weather report </h2>

    </div>
</div>

<p id="demo"></p>
<div class="row" id="searchrow">
    <div class="col-sm-4">


    </div>
    <div class="col-sm-8">
        <form name="newsform">
            <input type="text" id="searchquery" placeholder="Search.." name="search2">
            <button type="button" id="searchbtn" onclick="getLocation()"> <i class="fa fa-search"></i></button>
        </form>

    </div>
</div>
<div class="row" id="main">
    <div class="col" id="Longitute">
        <center>  <h3> Longitute</h3></center> <br>
        <center> <span id="lang"></span></center></div>

    <div class="col" id="Latitude"><center>  <h3> Latitude</h3></center> <br>
        <center> <span id="lat"> </span></center>  </div>
    <div class="col" id="Place"><center>  <h3> Place</h3></center> <br>
        <center> <span id="placename"> </span></center> </div>

    <div class="col" id="Weather">
        <center>  <h3> Weather</h3></center> <br>
        <center> <span id="temperature"></span></center></div>
    <div class="col" id="wind">
        <center>  <h3> Wind speed</h3></center> <br>
        <center> <span id="wind_data"></span></center></div>

</div>
</body>
</html>